<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Developer Portfolio</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>👨‍💻</text></svg>">
</head>
<body class="dark-theme">
  <canvas id="bgFractal" class="background-canvas"></canvas>
  <div class="container">
    <header class="header">
      <h1 class="site-title">Developer Portfolio</h1>
      <nav class="main-nav">
        <a href="#projects" class="nav-link">Projects</a>
        <a href="#about" class="nav-link">About Me</a>
        <a href="#contents-section" class="nav-link">Contents</a>
        <a href="#chat-section" class="nav-link">Chat</a>
        <a href="#contact" class="nav-link">Contact</a>
      </nav>
      <div class="user-auth-bar">
        <button id="anonymous-btn" class="btn secondary-btn">익명 참여</button>
        <button id="login-btn" class="btn secondary-btn">로그인</button>
        <button id="logout-btn" class="btn secondary-btn hidden">로그아웃</button>
        <button id="change-name-btn" class="btn secondary-btn hidden">이름 변경</button>
        <button id="profile-btn" class="btn secondary-btn hidden">프로필 설정</button>
      </div>
    </header>
    <!-- 이하 기존 대화 기준 채팅/Contact 1:1/인증/익명/기본 UI 구조 복원 -->
    <!-- ... (이전 대화에서 제공된 전체 index.html 내용 복원) ... -->
    <section id="chat-section" class="section chat-section">
      <h2 class="section-title">익명 실시간 채팅</h2>
      <div class="chat-container">
        <div class="chat-header">
          <div class="user-info">
            <span id="user-status">익명으로 채팅하기</span>
          </div>
        </div>
        <div class="chat-messages" id="chat-messages">
          <div class="welcome-message">
            <p>안녕하세요! 익명으로 실시간 채팅에 참여해보세요.</p>
            <p>로그인하거나 익명으로 참여할 수 있습니다.</p>
          </div>
        </div>
        <div class="chat-input-container">
          <input type="text" id="chat-input" placeholder="메시지를 입력하세요..." disabled>
          <button id="send-btn" class="btn primary-btn" disabled>전송</button>
        </div>
      </div>
    </section>
    <section id="contact" class="section contact-section">
      <h2 class="section-title">Get in Touch</h2>
      <p class="contact-description">개발자와 1:1 실시간 채팅이 가능합니다. 궁금한 점이나 문의가 있다면 바로 메시지를 남겨보세요!</p>
      <div class="contact-chat-container" style="max-width:420px; margin:0 auto; background:#23272f; border-radius:1.2em; box-shadow:0 2px 12px rgba(0,0,0,0.10); padding:1.5em 1em;">
        <div class="contact-chat-header" style="display:flex; align-items:center; gap:0.7em; margin-bottom:0.7em;">
          <img src="assets/profiles/0.jpg" alt="Dev Profile" style="width:38px; height:38px; border-radius:50%; border:1.5px solid #ffd700;">
          <span style="font-weight:700; color:#ffd700;">개발자 (Hyunwoo Kim)</span>
          <span id="dev-status" style="font-size:0.95em; color:#7fff7f; margin-left:auto;">온라인</span>
        </div>
        <div id="contact-chat-messages" style="height:180px; overflow-y:auto; background:#181a20; border-radius:0.7em; padding:0.7em; margin-bottom:0.8em; font-size:1.05em;">
          <div class="welcome-message">
            <p>안녕하세요! 개발자와 1:1 채팅을 시작해보세요.</p>
            <p>로그인하거나 익명으로 참여할 수 있습니다.</p>
          </div>
        </div>
        <div style="display:flex; gap:0.5em;">
          <input type="text" id="contact-chat-input" placeholder="메시지를 입력하세요..." style="flex:1; padding:0.7em 1em; border-radius:1.2em; border:1.5px solid #ffd700; background:#181a20; color:#fff; font-size:1.05em;" disabled>
          <button id="contact-chat-send" class="btn primary-btn" style="border-radius:1.2em; font-size:1.05em;" disabled>전송</button>
        </div>
      </div>
    </section>
    <!-- 인증/익명/닉네임 모달 UI -->
    <div id="auth-modal" class="modal hidden">
      <div class="modal-content">
        <span class="close-btn" id="close-modal">&times;</span>
        <div class="auth-tabs">
          <button class="auth-tab active" data-tab="login">로그인</button>
          <button class="auth-tab" data-tab="signup">회원가입</button>
        </div>
        <div id="login-form" class="auth-form">
          <h3>로그인</h3>
          <input type="email" id="login-email" placeholder="이메일" required>
          <input type="password" id="login-password" placeholder="비밀번호" required>
          <button id="login-submit" class="btn primary-btn">로그인</button>
          <p id="login-error" class="error-message hidden"></p>
        </div>
        <div id="signup-form" class="auth-form hidden">
          <h3>회원가입</h3>
          <input type="email" id="signup-email" placeholder="이메일" required>
          <input type="password" id="signup-password" placeholder="비밀번호 (6자 이상)" required>
          <input type="text" id="signup-username" placeholder="사용자명" required>
          <button id="signup-submit" class="btn primary-btn">회원가입</button>
          <p id="signup-error" class="error-message hidden"></p>
        </div>
      </div>
    </div>
    <div id="anonymous-modal" class="modal hidden">
      <div class="modal-content">
        <span class="close-btn" id="close-anonymous-modal">&times;</span>
        <div class="anonymous-profile-preview" style="text-align:center; margin-bottom:10px;">
          <img src="assets/profiles/0.jpg" alt="Profile Preview" id="anonymous-profile-img" style="width:60px; height:60px; border-radius:50%; border:2px solid #888; margin-bottom:8px;">
        </div>
        <h3 style="margin-bottom:8px;">익명 사용자 이름 설정</h3>
        <p style="color: #b0b0b0; margin-bottom: 20px; text-align: center; font-size:1.05em; font-weight:500;">
          채팅에서 사용할 이름을 입력해주세요.<br>다른 서비스에서도 동일하게 사용됩니다.
        </p>
        <input type="text" id="anonymous-name" placeholder="사용자명 (예: 익명123)" maxlength="20" required style="font-size:1.1em; padding:0.7em 1em; border-radius:1.2em; border:1.5px solid #aaa; margin-bottom:10px; width:90%; display:block; margin-left:auto; margin-right:auto;">
        <button id="anonymous-submit" class="btn primary-btn" style="width:90%; font-size:1.1em; border-radius:1.2em;">채팅 참여</button>
        <p id="anonymous-error" class="error-message hidden" style="margin-top:10px;"></p>
      </div>
    </div>
    <div id="profile-modal" class="modal hidden">
      <div class="modal-content">
        <span class="close-btn" id="close-profile-modal">&times;</span>
        <h3>프로필 설정</h3>
        <p style="color: #b0b0b0; margin-bottom: 20px; text-align: center;">
          채팅에서 사용할 이름을 설정해주세요.
        </p>
        <input type="text" id="profile-username" placeholder="사용자명" maxlength="20" required>
        <button id="profile-submit" class="btn primary-btn">저장</button>
        <p id="profile-error" class="error-message hidden"></p>
      </div>
    </div>
  </div>
  <script type="module" src="firebase-config.js"></script>
  <script type="module" src="chat-auth.js"></script>
  <script type="module" src="contact-chat.js"></script>
  <script src="fractal-bg.js"></script>
  <script src="mouse-animation.js"></script>
  <script src="main.js"></script>
</body>
</html>